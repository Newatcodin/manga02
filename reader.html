<!DOCTYPE html>
<html>
<head>
  <title>Reader</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { margin:0; background:black; }
    img { width:100%; display:block; margin-bottom:10px; }
  </style>
</head>
<body>
<div id="pages"></div>
<div id="disqus_thread" style="margin-top:20px;"></div>
<script>
const params = new URLSearchParams(window.location.search);
const id = params.get("id");
const chapterNum = params.get("chapter");

fetch("data.json").then(r=>r.json()).then(data=>{
  const manga = data.mangas.find(m=>m.id==id);
  const chapter = manga.chapters.find(c=>c.chapter==chapterNum);
  chapter.images.forEach(url=>{
    const img = document.createElement("img");
    img.src=url;
    document.getElementById("pages").appendChild(img);
  });
});

// Disqus setup
var disqus_config = function () {
this.page.url = window.location.href;
this.page.identifier = 'chapter-'+chapterNum;
};
(function() {
var d = document, s = d.createElement('script');
s.src = 'https://example-your-disqus-shortname.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
</body>
</html>